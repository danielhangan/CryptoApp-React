{"ast":null,"code":"import _slicedToArray from\"/home/scooch/Dev/projects/cryptoapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Typography,Select,Row,Col,Avatar,Card}from'antd';import moment from'moment';import{useGetCryptoNewsQuery}from'../services/cryptoNewsApi';import{useGetCryptosQuery}from'../services/cryptoApi';import Loader from'./Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Text=Typography.Text,Title=Typography.Title;var Option=Select.Option;var demoImage='https://www.bing.com/th?id=OVFT.mpzuVZnv8dwIMRfQGPbOPC&pid=News';var News=function News(_ref){var _data$data;var simplified=_ref.simplified;var _useState=useState(\"Cryptocurrency\"),_useState2=_slicedToArray(_useState,2),newsCategory=_useState2[0],setNewsCategory=_useState2[1];var _useGetCryptoNewsQuer=useGetCryptoNewsQuery({newsCategory:newsCategory,count:simplified?6:12}),cryptoNews=_useGetCryptoNewsQuer.data;var _useGetCryptosQuery=useGetCryptosQuery(100),data=_useGetCryptosQuery.data;if(!(cryptoNews===null||cryptoNews===void 0?void 0:cryptoNews.value))return/*#__PURE__*/_jsx(Loader,{});return/*#__PURE__*/_jsxs(Row,{gutter:[24,24],children:[!simplified&&/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Select,{showSearch:true,className:\"select-news\",placeholder:\"Select a Cryptocurrency\",optionFilterProp:\"children\",onChange:function onChange(value){return setNewsCategory(value);},filterOption:function filterOption(input,option){return option.children.toLowerCase().indexOf(input.toLowerCase())>=0;},children:[/*#__PURE__*/_jsx(Option,{value:\"Cryptocurrency\",children:\"Cryptocurrency\"}),data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.coins.map(function(coin){return/*#__PURE__*/_jsx(Option,{value:coin.name,children:coin.name});})]})}),cryptoNews.value.map(function(news,i){var _news$image,_news$image$thumbnail,_news$provider$,_news$provider$$image,_news$provider$$image2,_news$provider$2;return/*#__PURE__*/_jsx(Col,{xs:24,sm:12,lg:8,children:/*#__PURE__*/_jsx(Card,{hoverable:true,className:\"news-card\",children:/*#__PURE__*/_jsxs(\"a\",{href:news.url,target:\"_blank\",rel:\"noreferrer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"news-image-container\",children:[/*#__PURE__*/_jsx(Title,{className:\"news-title\",level:4,children:news.name}),/*#__PURE__*/_jsx(\"img\",{style:{maxWidth:'200px',maxHeight:'100px'},src:(news===null||news===void 0?void 0:(_news$image=news.image)===null||_news$image===void 0?void 0:(_news$image$thumbnail=_news$image.thumbnail)===null||_news$image$thumbnail===void 0?void 0:_news$image$thumbnail.contentUrl)||demoImage,alt:\"news\"})]}),/*#__PURE__*/_jsx(\"p\",{children:news.description>100?\"\".concat(news.description.substring(0,100),\"}...\"):news.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"provider-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Avatar,{src:((_news$provider$=news.provider[0])===null||_news$provider$===void 0?void 0:(_news$provider$$image=_news$provider$.image)===null||_news$provider$$image===void 0?void 0:(_news$provider$$image2=_news$provider$$image.thumbnail)===null||_news$provider$$image2===void 0?void 0:_news$provider$$image2.contentUrl)||demoImage,alt:\"news\"}),/*#__PURE__*/_jsx(Text,{className:\"provider-name\",children:(_news$provider$2=news.provider[0])===null||_news$provider$2===void 0?void 0:_news$provider$2.name})]}),/*#__PURE__*/_jsx(Text,{children:moment(news.datePublished).startOf('ss').fromNow()})]})]})})},i);})]});};export default News;","map":{"version":3,"sources":["/home/scooch/Dev/projects/cryptoapp/src/components/News.jsx"],"names":["React","useState","Typography","Select","Row","Col","Avatar","Card","moment","useGetCryptoNewsQuery","useGetCryptosQuery","Loader","Text","Title","Option","demoImage","News","simplified","newsCategory","setNewsCategory","count","cryptoNews","data","value","input","option","children","toLowerCase","indexOf","coins","map","coin","name","news","i","url","maxWidth","maxHeight","image","thumbnail","contentUrl","description","substring","provider","datePublished","startOf","fromNow"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Typography, Select, Row, Col, Avatar, Card } from 'antd';\nimport moment from 'moment';\n\nimport { useGetCryptoNewsQuery } from '../services/cryptoNewsApi';\nimport { useGetCryptosQuery } from '../services/cryptoApi';\n\nimport Loader from './Loader';\n\nconst { Text, Title } = Typography;\nconst { Option } = Select;\n\nconst demoImage = 'https://www.bing.com/th?id=OVFT.mpzuVZnv8dwIMRfQGPbOPC&pid=News';\n\nconst News = ({ simplified }) => {\n    const [newsCategory, setNewsCategory] = useState(`Cryptocurrency`);\n    const { data: cryptoNews } = useGetCryptoNewsQuery({ newsCategory, count: simplified ? 6 : 12 })\n    const { data } = useGetCryptosQuery(100);\n\n    if (!cryptoNews?.value) return <Loader />\n    return (\n        <Row gutter={[24,24]}>\n            {!simplified && (\n                <Col span={24}>\n                    <Select\n                        showSearch\n                        className='select-news'\n                        placeholder=\"Select a Cryptocurrency\"\n                        optionFilterProp=\"children\"\n                        onChange={(value) => setNewsCategory(value)}\n                        filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n\n                    >\n                        <Option value=\"Cryptocurrency\">Cryptocurrency</Option>\n                        {data?.data?.coins.map((coin) => \n                            <Option value={coin.name}>\n                                {coin.name}\n                            </Option>\n                        )}\n                    </Select>\n                </Col>\n            )}\n            {cryptoNews.value.map((news, i) => (\n                <Col xs={24} sm={12} lg={8} key={i}>\n                    <Card hoverable className=\"news-card\">\n                        <a href={news.url} target=\"_blank\"  rel=\"noreferrer\">\n                            <div className=\"news-image-container\">\n                                <Title className=\"news-title\" level={4}>{news.name}</Title>\n                                <img style={{ maxWidth: '200px', maxHeight: '100px' }} src={news?.image?.thumbnail?.contentUrl || demoImage } alt='news'></img>\n                            </div>\n                            <p>\n                                {news.description > 100 \n                                   ? `${news.description.substring(0,100)}}...`\n                                   : news.description\n                                }\n                            </p>\n                            <div className='provider-container'>\n                                <div>\n                                    <Avatar src={news.provider[0]?.image?.thumbnail?.contentUrl || demoImage} alt='news' />\n                                    <Text className='provider-name'>{news.provider[0]?.name}</Text>\n                                </div>\n                                <Text>{moment(news.datePublished).startOf('ss').fromNow()}</Text>\n\n                            </div>\n                        </a>\n                    </Card>\n                </Col>\n            ))}\n        </Row>\n    )\n}\n\nexport default News\n"]},"metadata":{},"sourceType":"module"}